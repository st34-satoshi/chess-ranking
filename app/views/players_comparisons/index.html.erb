<% content_for :title do %>
  <title><%= t('views.playersComparisons.title') %></title>
<% end %>
<% content_for :description do %>
  <meta name="description" content="<%= t('views.playersComparisons.description') %>">
<% end %>
<% content_for :ogp do %>
  <meta property="og:title" content="<%= t('views.playersComparisons.title') %>">
  <meta property="og:type" content="website">
  <meta property="og:url" content="<%= request.url %>">
  <meta property="og:description" content="<%= t('views.playersComparisons.description') %>">
  <meta property="og:image" content="https://chess-ranking.stu345.com/ogp.png">
<% end %>

<% content_for :importmap_tag do %>
  <%= javascript_importmap_tags 'players_comparison/index' %>
<% end %>

<div class="container" style="min-height: 100%;">
    <div class='row mx-auto pl-1 pr-1 min-vh-100'>
    <div class="d-flex flex-column mx-auto mw-100">
    <div>
    <%= render "layouts/header" %>
    <h1>
        <%= link_to players_comparisons_path, {class: "nav-link text-body ps-0"} do %>
          <i class="fa-solid fa-users"></i>
          <%= t('views.playersComparisons.title') %>
        <% end %>
    </h1>
    <hr>
    </div>

    <div class="pt-3">
      <h3><%= t('views.playersComparisons.graphName') %></h3>
      TODO: graph
    </div>

    <div class="mt-5">
      <h3><%= t('views.playersComparisons.updateGraph') %></h3>
      <div class="border p-3">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="input-tab" data-bs-toggle="tab" data-bs-target="#input" type="button" role="tab" aria-controls="input" aria-selected="true">Input Text</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="url-tab" data-bs-toggle="tab" data-bs-target="#url" type="button" role="tab" aria-controls="url" aria-selected="false">URL</button>
          </li>
        </ul>
        <div class="tab-content mt-2">
          <div class="tab-pane fade show active" id="input" role="tabpanel" aria-labelledby="input-tab">
            <%= form_with model: @players_comparison, url: players_comparisons_path, method: :post, local: true do |f| %>
              <div class="form-group">
                <%= f.label :input_text, t('views.playersComparisons.inputLabel') %>
                <%= f.text_area :input_text, class: "form-control", rows: 5 %>
              </div>
        
              <div class="mt-3">
                <%= f.submit t('views.playersComparisons.submit'), class: "btn btn-primary" %>
              </div>
            <% end %>
          </div>
          <div class="tab-pane fade" id="url" role="tabpanel" aria-labelledby="url-tab">
            <%= form_with model: @players_comparison, url: players_comparisons_path, method: :post, local: true do |f| %>
              <div class="form-group">
                <%= f.label :input_text, t('views.playersComparisons.inputLabel') %>
                <%= f.text_area :input_text, class: "form-control", rows: 5 %>
              </div>
        
              <div class="mt-3">
                <%= f.submit t('views.playersComparisons.submit'), class: "btn btn-primary" %>
              </div>
            <% end %>
          </div>
        </div>
      </div>

    </div>

    <hr>

    <div class="pt-3 text-center pb-3">
      Share:
      <%= link_to "https://x.com/intent/tweet?text=#{t('views.home.comparePlayers.title')}&url=#{request.url}", {target: "_blank", class: "btn btn-outline-secondary"} do %>
        <i class="fa-brands fa-x-twitter"></i>
      <% end %>
    </div>

    </div>
    </div>
</div>